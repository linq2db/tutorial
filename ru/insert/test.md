---
titile: Самостоятельная работа
---

# Самостоятельная работа

Мы разобрали основные методы вставки данных. Более полную информацию вы можете прочитать в тестах `linq2db`:

* [InsertTests.cs](https://github.com/linq2db/linq2db/blob/master/Tests/Linq/Update/InsertTests.cs)
* [BulkCopyTests.cs](https://github.com/linq2db/linq2db/blob/master/Tests/Linq/Update/BulkCopyTests.cs)

Пока же вам остается выполнить последнее задание в данном разделе.

**Аристарх Никодимович**: Пришла пора выполнить наше обещание, данное покупателям - мы должны начислить каждому, кто вошел в первую тысячу зарегистрировавшихся в любом магазине 1000 бонусных баллов.

Для начала мы вам немножко поможем, давайте дополним нашу БД:

1. Добавим поле `BonusAmount` в таблицу `Customer` - здесь мы будем хранить состояние текущего бонусного счета покупателя.
2. Добавим таблицу `BonusTransaction`, где будем хранить информацию о начислениях и списаниях бонусных баллов:
    * `Time` - время операции
    * `CustomerId` - идентификатор покупателя
    * `Amount` - сумма начисления (положительная) или списания (отрицательная)

Вашей задачей будет:

1. Заполнить таблицу `BonusTransaction` записав в нее начисления по 1000 бонусных баллов каждому покупателю с порядковым номером меньше 1000.
2. Заполнить у соответствующих покупателей поле `BonusAmount`.
3. Разобрать изменения, сделанные в файле `Model.tt`

Исходный код доступен [здесь](https://github.com/linq2db/tutorial.sources/tree/insert_test).
